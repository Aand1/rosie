sp {go-to-waypoint*propose*go-to-next-waypoint*all*adjacent
   (state <s> ^name go-to-waypoint
              ^world.robot.current-waypoint.next <next>)
-->
   (<s> ^operator <o> +)
   (<o> ^name go-to-next-waypoint
        ^waypoint <next>)
}

sp {go-to-waypoint*prefer*go-to-next-waypoint*desired*waypoint
   (state <s> ^type go-to-waypoint
              ^operator <o> +
              ^desired.waypoint.id <id>)
   (<o> ^name go-to-next-waypoint
         ^waypoint.id <id>)
-->
   (<s> ^operator <o> >)
}

sp {go-to-waypoint*propose*go-to-next-waypoint*destination-area
   (state <s> ^name evaluate-operator
              ^name go-to-waypoint
              ^destination.waypoint.id <dest-id>
              ^world.robot.current-waypoint <cur-wp>)
   (<cur-loc> ^neighbor-area <neighbor>)
   (<neighbor> ^id <dest-id>)
-->
   (<s> ^operator <o> + = >)
   (<o> ^name go-to-next-waypoint
        ^area <neighbor>)
}
