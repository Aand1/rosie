
sp {waypoint-search*evaluate-operator*create*state-copy*empty*world
   (state <s> ^name evaluate-operator
              ^problem-space.name waypoint-search)
-->
   (<s> ^world <world>)
   (<world> ^robot <robot>
            ^objects <objs>
            ^predicates <preds>)
   (<robot> ^arm <arm>)
}

sp {waypoint-search*evaluate-operator*copy*robot-info*world
   (state <s> ^name evaluate-operator
              ^problem-space.name waypoint-search
              ^superstate.superstate.world.robot <ss-rob>
              ^world.robot <rob>)
   (<ss-rob> ^{ <att> <> arm } <val>)
-->
   (<rob> ^<att> <val>)
}

sp {waypoint-search*evaluate-operator*elaborate*current-location
   (state <s> ^name evaluate-operator
              ^world.robot.current-waypoint <wp>)
-->
   (<s> ^current-location <wp>)
}

#sp {evaluate-operator*elaborate*visited*from*evaluation
#   (state <s> ^name evaluate-operator
#              ^superstate.operator.evaluation.visited <visited>)
#-->
#   (<s> ^visited <visited>)
#}

sp {evaluate-operator*elaborate*desired*success
   (state <s> ^name evaluate-operator
              ^desired <d>
              ^current-location.id <id>)
   (<d> ^waypoint.id <id>)
-->
   (<s> ^success <d>)
}

#sp {evaluate-operator*elaborate*success*superstate
#   (state <s> ^name evaluate-operator
#              ^desired <d>
#              ^success <d>
#              ^superstate.superstate <ss>)
#-->
#   (<ss> ^success <d>)
#}
#
#sp {evaluate-operator*success*prefer*operator*superstate
#   (state <s> ^name evaluate-operator
#              ^desired <d>
#              ^success <d>
#              ^superstate.operator.superoperator <o>
#              ^superstate.superstate <ss>)
#   (<ss> ^operator <o> +)
#-->
#   (<ss> ^operator <o> >)
#}

#sp {evaluate-operator*elaborate*visited*failure
#   (state <s> ^name evaluate-operator
#              ^current-location <area> 
#              ^destination-area.id <id>
#              ^current-location <ca>
#              ^desired <d>
#              ^visited <area>) 
#   (<ca> ^id <> <id>)
#-->
#  #(write (crlf) |Returned to area: | <area>)
#   (<s> ^partial-failure <d>)
#}

#sp {evaluate-operator*elaborate*visited*indifferent
#   (state <s> ^name evaluate-operator
#              ^current-location <area>
#              ^desired <d>)
#   (<area> ^id <id>
#          -^visited yes)
#-->
####(write (crlf) |Haven't visited: | <area>)
#   (<s> ^indifferent <d>)
#}

