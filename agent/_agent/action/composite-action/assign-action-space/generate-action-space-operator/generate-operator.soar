sp {elaborate*possible-operators*relation*TEMRULE*stack
   (state <s> ^name generate-action-space-operator
   	      ^map_id <map>
	      ^candidate-object <obj1>
	      ^candidate-object {<obj2> > <obj1>}
	      ^candidate-object {<obj3> > <obj1> > <obj2>})
   (<map> ^procedural <op-id>)
   (<op-id> ^{<arg1> <> op_name} <val1>
   	    ^{<arg2> <> op_name > <arg1>} <val2>
	    ^{<arg3> <> op_name > <arg1> > <arg2>} <val3>
	    ^op_name <op-name>)
   (<val1> -^<subarg>)
   (<val2> -^<subarg>)
   (<val3> -^<subarg>)   	   
-->
   (<s> ^candidate-operator <cand-op>)
   (<cand-op> ^name <op-name>
   	      ^<arg1> <obj1>
	      ^<arg2> <obj2>
	      ^<arg3> <obj3>
	      ^_instantiation-of <op-id>
	      ^action-type composite
	      ^_metadata.map-id <map>)
}

sp {elaborate*possible-operators*relation
   (state <s> ^name generate-action-space-operator
   	      ^map-id <map>
	      ^candidate-object <obj1>
	      ^candidate-object {<obj2> <> <obj1>})
   (<map> ^procedural <op-id>)
   (<op-id> ^{<arg1> <> op_name} <val1>
   	    ^{<arg2> <> op_name <> <arg1>} <val2>
	    -^{<arg3> <> op_name <> <arg2> <> <arg1>}
	    ^op_name <op-name>)
   (<val1> -^<subarg>)
   (<val2> ^relation <rel>
   	   ^argument <val3>)
-->
   (<s> ^candidate-operator <cand-op>)
   (<cand-op> ^name <op-name>
   	      ^<arg1> <obj1>
	      ^<arg2> <nval>
	      ^_instantiation-of <op-id>
	      ^action-type composite
	      ^_metadata.map-id <map>)
   (<nval> ^argument <obj2>)
}

sp {elaborate*possible-operators*no*relation
   (state <s> ^name generate-action-space-operator
   	      ^map-id <map>
	      ^candidate-object <obj1>
	      ^candidate-object {<obj2> <> <obj1>})
   (<map> ^procedural <op-id>)
   (<op-id> ^{<arg1> <> op_name} <val1>
   	    ^{<arg2> <> op_name <> <arg1>} <val2>
	    -^{<arg3> <> op_name <> <arg2> <> <arg1>}
	    ^op_name <op-name>)
   (<val1> -^<subarg>)
   (<val2> -^relation
   	   ^argument <val3>)
-->
   (<s> ^candidate-operator <cand-op>)
   (<cand-op> ^name <op-name>
   	      ^<arg1> <obj1>
	      ^<arg2> <nval>
	      ^_instantiation-of <op-id>
	      ^action-type composite
	      ^_metadata.map-id <map>)
   (<nval> ^argument <obj2>)
}

sp {elaborate*possible-operators*no-relation*1argument*TEMP
   (state <s> ^name generate-action-space-operator
   	      ^map-id <map>
	      ^candidate-object <obj1>)
   (<map> ^procedural <op-id>)
   (<op-id> ^{<arg1> <> op_name} <val1>
   	    -^{<arg2> <> op_name <> <arg1>} <val2>
	    ^op_name <op-name>)
   (<val1> -^<subarg>)
-->
   (<s> ^candidate-operator <cand-op>)
   (<cand-op> ^name <op-name>
   	      ^<arg1> <obj1>
	      ^_instantiation-of <op-id>
	      ^action-type composite
	      ^_metadata.map-id <map>)
}

# sp {write-to-superstate*candidate-operators
#    (state <s> ^name generate-action-space-operator
#    	      ^candidate-operator <cand-op>
# 	      ^superstate <ss>)
# -->
#    (<ss> ^action-space-operator <cand-op>)
# }
   