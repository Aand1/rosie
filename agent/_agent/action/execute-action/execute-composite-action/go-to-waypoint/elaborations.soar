sp {go-to-waypoint*elaborate*current-location*from*superoperator
   (state <s> ^name go-to-waypoint
              ^superstate.operator.current-location <loc>)
-->
   (<s> ^current-location <loc>)
}

sp {go-to-waypoint*elaborate*desired*from*superoperator
   (state <s> ^name go-to-waypoint
              ^superstate.operator.waypoint <wp>)
-->
   (<s> ^desired.waypoint <wp>)
}

sp {go-to-waypoint*elaborate*same-map*true
   (state <s> ^name go-to-waypoint
              ^current-location.map.id <map-id>
              ^desired.waypoint.map.id <map-id>)
-->
   (<s> ^same-map true)
}

sp {go-to-waypoint*elaborate*problem-space
   (state <s> ^name go-to-waypoint
             -^name evaluate-operator)
-->
   (<s> ^problem-space <p>)
   (<p> ^name waypoint-search
        ^default-state-copy no)
        #^one-level-attributes destination
        #^two-level-attributes top-state
        #^dont-copy current-location)
}

sp {go-to-waypoint*operator-tie*elaborate*selection*name
   (state <s> ^superstate.name go-to-waypoint
              ^impasse tie
              ^attribute operator)
-->
   (<s> ^name selection)
}
              
              

sp {go-to-waypoint*copy*world*superstate
   (state <s> ^name go-to-waypoint
              ^superstate.world <world>)
-->
   (<s> ^world <world>)
}
