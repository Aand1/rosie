sp {soar-operator*propose*complete
   (state <s> ^name attribute-of
              ^instance <instance>)
-->
   (<s> ^operator <o> + =)
   (<o> ^name complete
        ^instance <instance>)
}
#TODO import fix for attribute-of
sp {soar-operator*apply*complete
   (state <s> ^name attribute-of
              ^superstate.condition.result.set <res>
              ^operator <op>
              ^instance <s1>)  
   (<op> ^name complete)# ^instance <s1>) #JAMES UNCHUNKED VERSION
-->
  (<res> ^instance <s1>)
}

sp {soar-operator*elaborate*instance*set*2-arguments
   (state <s> ^name soar-operator
              ^superstate.condition.rtype set
              ^superstate.operator <o>)
   (<o> ^args <args> ^parameter <p>)
   (<args> -^{1}.rtype set 
                  ^3 <a3>
                  ^2 <a2>)
   (<a2> ^result.set.instance.{1} <arg2>)
   (<a3> ^result.set.instance.{1} <arg3>)
-->
#   (<rset> ^<elem> <item>)
   (<s> ^instance <int>)
   (<int> ^1 <set> ^3 <arg3> ^2 <arg2>)
}

sp {soar-operator*elaborate*instance*set
   (state <s> ^name soar-operator
              ^superstate.condition.rtype set
              ^superstate.operator <o>)
   (<o> ^args <args> ^parameter <p>)
   (<args> -^{1}.rtype set 
                  -^3
                  ^2 <a2>)
   (<a2> ^result.set.instance.{1} <arg2>)
-->
#   (<rset> ^<elem> <item>)
   (<s> ^instance <int>)
   (<int> ^1 <set> ^2 <arg2>)
}

#TODO general handling for negative


#TODO how to make sure doesn't select instance with no result