sp {learn-condition*elaborate*conditions
   (state <s> ^name learn-condition
              ^superstate.operator.condition <co>)
-->
   (<s> ^condition <co>)
}

sp {learn-condition*impasse
   (state <s> ^superstate.name learn-condition
              ^choices none
              ^attribute state
              ^superstate.condition <co>
              ^impasse no-change)
-->
#   (force-learn <s>)
   (<s> ^name learn-condition-impasse
        ^condition <co>)
}



sp {learn-condition-impasse*query*success
   (state <s> ^name learn-condition-impasse 
              ^smem.result.success <cue>
              ^smem.result.retrieved <res>)
-->
   (<s> ^result <res>)
}

sp {learn-condition-impasse*propose*with-attribute
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> ^name <name> ^type attribute ^attribute <attr>)
   (<args> ^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args2>
         ^name with-attribute
         ^negative <bool>
         ^parameter <p>)
   (<args2> ^3 <a2> ^2 <a3> ^1 <a1>)
   (<a2> ^name number ^args <ag2> ^rtype single ^result.set.instance <a22> ^return-type number)
   (<a22> ^1 <attr>)
   (<a3> ^name number ^args <ag3> ^rtype single ^result.set.instance <a33> ^return-type number)
   (<a33> ^1 <name>)
}

sp {learn-condition-impasse*propose*with-attribute22
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> -^name object ^name <name> ^type attribute ^attribute <attr>)
   (<args> -^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args2>
         ^name with-attribute
         ^negative <bool>
         ^parameter <p>)
   (<args2> ^3 <a2> ^2 <a3>)
   (<a2> ^name number ^args <ag2> ^rtype single ^result.set.instance <a22> ^return-type number)
   (<a22> ^1 <attr>)
   (<a3> ^name number ^args <ag3> ^rtype single ^result.set.instance <a33> ^return-type number)
   (<a33> ^1 <name>)
}

sp {learn-condition-impasse*propose*with-attribute*primitive-object
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> ^name object ^type attribute ^attribute primitive)
   (<args> -^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args2>
         ^name with-attribute
         ^negative <bool>
         ^parameter <p>)
}

#normally here need to retrieve structure and elab linkstate predicate (already have)
sp {learn-condition-impasse*propose*top-pair
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> ^name <name> ^type state-pair ^attribute <attr>)
 #  (<args> -^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args>
         ^name top-pair
         ^type <name>
         ^attribute <attr>
         ^negative <bool>
         ^parameter <p>)
}

sp {learn-condition-impasse*propose*function
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> ^name <name> ^type function ^function <func>)
 #  (<args> -^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args>
         ^name <func>
         ^type <name>
         ^negative <bool>
         ^parameter <p>)
}

sp {learn-condition-impasse*propose*attribute-of
   (state <s> ^name learn-condition-impasse
              ^superstate <ss>)
   (<ss> ^condition <co>)
   (<co> ^args <args> ^negative <bool> ^parameter <p> ^name <type> ^type attribute-of)
 #  (<args> -^1 <a1>)
-->
   (<ss> ^operator <op> + =)
   (<op> ^args <args>
         ^name attribute-of
         ^type <type>
         ^negative <bool>
         ^parameter <p>)
}
