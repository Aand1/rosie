#n-queens
#Initialize topstate relationships
sp {elab*top-state*preps*n-queens
   (state <s> ^superstate nil
              ^gtype action
              ^game n-queens)
-->
   (<s> ^topstate <s>)
   (<s> ^prepositions <p>)
   (<p> ^prep <p1>
        ^prep <p2>)
   (<p1> ^name on 
         ^pair <p21> ^pair <p22> ^pair <p23>)
   (<p21> ^b 11 ^a 100)
   (<p22> ^b 3 ^a 101) 
   (<p23> ^b 16 ^a 103) 
   (<p2> ^name below
         ^pair <p21r> ^pair <p22r> ^pair <p23r>)
   (<p21r> ^a 11 ^b 100)
   (<p22r> ^a 3 ^b 101)
   (<p23r> ^a 16 ^b 103) 
}
sp {elab*top-state*preps*n-queens*goal
   (state <s> ^superstate nil
              ^gtype goal
              ^game n-queens)
-->
   (<s> ^topstate <s>)
   (<s> ^prepositions <p>)
   (<p> ^prep <p1>
        ^prep <p2>)
   (<p1> ^name on 
         ^pair <p21> ^pair <p22> ^pair <p23> ^pair <p24>)
   (<p21> ^b 11 ^a 100)
   (<p22> ^b 3 ^a 101) 
   (<p23> ^b 16 ^a 103)
   (<p24> ^b 5 ^a 102) 
   (<p2> ^name below
         ^pair <p21r> ^pair <p22r> ^pair <p23r> ^pair <p24r>)
   (<p21r> ^a 11 ^b 100)
   (<p22r> ^a 3 ^b 101)
   (<p23r> ^a 16 ^b 103)
   (<p24r> ^a 5 ^b 102) 
}

#Initialize objects
sp {index-object*object*n-queens
   (state <s> ^name index-object
              ^superstate <ss>
              ^topstate.game n-queens
              ^superstate.operator <o>)
   (<o> ^word object)
-->
   (<ss> ^result <res>)
   (<res> ^set.item <os>)
   (<os> ^object <o1> ^object <o2>
         ^object <o3> ^object <o4>
         ^object <o1b> ^object <o2b>
         ^object <o3b> ^object <o4b>
         ^object <o5> ^object <o6> ^object <o7>
         ^object <o8> ^object <o9>
         ^object <o10> ^object <o11>
         ^object <o12>
         ^object <o81> ^object <o82> ^object <o83> ^object <o84>)
   (<o1> ^id 1 ^type location ^x 1 ^y 1)
   (<o2> ^id 2 ^type location ^x 2 ^y 1)
   (<o3> ^id 3 ^type location ^x 3 ^y 1)
   (<o4> ^id 4 ^type location ^x 4 ^y 1)
   (<o1b> ^id 5 ^type location ^x 1 ^y 2)
   (<o2b> ^id 6 ^type location ^x 2 ^y 2)
   (<o3b> ^id 7 ^type location ^x 3 ^y 2)
   (<o4b> ^id 8 ^type location ^x 4 ^y 2)
   (<o5> ^id 9  ^type location ^x 1 ^y 3)
   (<o6> ^id 10 ^type location ^x 2 ^y 3)
   (<o7> ^id 11 ^type location ^x 3 ^y 3)
   (<o8> ^id 12 ^type location ^x 4 ^y 3)
   (<o9> ^id 13 ^type location ^x 1 ^y 4)
   (<o10> ^id 14 ^type location ^x 2 ^y 4)
   (<o11> ^id 15 ^type location ^x 3 ^y 4)
   (<o12> ^id 16 ^type location ^x 4 ^y 4)

   (<o81> ^id 100 ^type block ^word red)
   (<o82> ^id 101 ^type block ^word red)
   (<o83> ^id 102 ^type block ^word red)
   (<o84> ^id 103 ^type block ^word red)
}

sp {resolve-conditions*elaborate*n-queens*action
   (state <s> ^name resolve-conditions
              ^topstate.gtype action
              ^topstate.game n-queens)
-->
   (<s> ^nlp-set <nlps>)
   (<nlps> ^nlp <cs1> ^nlp <cs2>)
   
   (<cs> ^name free ^args <ag> ^parameter <p3z>)
   (<p3z> ^result.link <p1b> ^1 <p1b>)
   (<p1b> ^param-id 1)
   (<ag> ^1 <c1> )
   (<c1> ^name red ^args <ag2>)
   (<ag2> ^1 <c4>)
   (<c4> ^name block ^rtype single)
   
   (<cs1> ^name clear ^args <ag1> ^parameter <pz>)
   (<pz> ^result.link <p1c> ^1 <p1c>)
   (<p1c> ^param-id 1)
   (<ag1> ^1 <cs> )
   
   (<c2> ^name location ^rtype single)
   
   (<cs2> ^name clear ^args <ag5> ^parameter <p3>)
   (<p3> ^result.link <p1d> ^1 <p1d>)
   (<p1d> ^param-id 2)
   (<ag5> ^1 <c2>) 
}

#sp {resolve-conditions*elaborate*n-queens*goal
#   (state <s> ^name resolve-conditions
#              ^topstate.gtype goal
#              ^topstate.game n-queens)
#-->
#   (<s> ^nlp-set <nlps>)
#   (<nlps> ^nlp <cs>)
#   
#   (<cs> ^name equal ^return-type boolean ^args <ag> ^parameter <p>)
#   (<p> ^result.link <p1a> ^num 1 ^1 <p1a>)
#   (<p1a> ^param-id 1)
#   (<ag> ^1 <c2> ^2 <cz>)
#   (<cz> ^result.number 0)
#   (<c2> ^name count ^return-type number ^args <ag3>)
#   (<ag3> ^1 <cz4>)
#   (<cz4> ^name on ^negative true ^args <agz4>)
#   (<agz4> ^1 <c5> ^2 <c8>)
#   
#   (<c5> ^name block ^rtype single)
#   (<c8> ^name location ^rtype single)
#}
