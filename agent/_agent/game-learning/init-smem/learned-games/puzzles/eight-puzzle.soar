#Eight puzzle
#sp {topstate*elaborate*data
#   (state <s> ^superstate nil
#              ^io.output-link <o3>)
#-->
#   (<o3> ^terminal-command <tc>)
#   (<tc> ^command |grep -lsR "qsorry" ..|)
#}
#sp {topstate*elaborate*data2
#   (state <s> ^superstate nil
#              ^io.output-link <o3>)
#   (<o3> ^terminal-command.ouput <o2>)
#-->
#   (<o3> ^soar-command <tc>)
#   (<tc> ^command (concat |source | <o2>))
#}


sp {topstate*elaborate*eight-puzzle
   (state <s> ^superstate nil)
-->
   (<s> ^current-game <cg> ^prepositions <F7> 
        ^object <o1> ^object <o2>
         ^object <o3> ^object <o4>
         ^object <o1b> ^object <o2b>
         ^object <o3b> ^object <o4b>
         ^object <o5> ^object <o6> ^object <o7>
         ^object <o8> ^object <o9>
         ^object <o10> ^object <o11>
         ^object <o12> ^object <o13>)
   (<cg> ^game <g> ^name eight-puzzle ^action <T5> ^multiplayer false ^learning <lll>)
    (<lll> ^action-number 1 ^verb-num 1 ^type verb)
   (<g> ^actions <a> ^name eight-puzzle)
   (<a> ^1 <T5>) 
      (<F7> ^prep <p1>
        ^prep <p2>
        ^prep <p3>
        ^prep <p4>)
   (<p1> ^name near
          ^pair <P862> ^pair <P863>
          ^pair <P864> ^pair <P865> ^pair <P867> ^pair <P868> ^pair <P869>
          ^pair <P873>
          ^pair <P862b> ^pair <P863b>
          ^pair <P864b> ^pair <P865b> ^pair <P867b> ^pair <P868b> ^pair <P869b>
          ^pair <P873b>
          ^pair <P862r> ^pair <P863r>
          ^pair <P864r> ^pair <P865r> ^pair <P867r> ^pair <P868r> ^pair <P869r>
          ^pair <P873r>
          ^pair <P862br> ^pair <P863br>
          ^pair <P864br> ^pair <P865br> ^pair <P867br> ^pair <P868br> ^pair <P869br>
          ^pair <P873br>
          ^pair <P862brz> ^pair <P863brz>
          ^pair <P864brz> ^pair <P865brz> ^pair <P867brz> ^pair <P868brz> ^pair <P869brz>
          ^pair <P873brz>)
    (<P862> ^1 9 ^2 13)
    (<P863> ^1 9 ^2 12)
    (<P864> ^1 9 ^2 10)  
    (<P865> ^1 10 ^2 13)
    (<P867> ^1 11 ^2 14)
    (<P868> ^1 11 ^2 13)
    (<P869> ^1 12 ^2 13)
    (<P873> ^1 15 ^2 16)
    
    (<P862b> ^2 13 ^1 17)
    (<P863b> ^2 12 ^1 15)
    (<P864b> ^2 10 ^1 11)  
    (<P865b> ^2 13 ^1 16)
    (<P867b> ^2 14 ^1 17)
    (<P868b> ^2 13 ^1 15)
    (<P869b> ^2 13 ^1 14)
    (<P873b> ^2 16 ^1 17)
    
    (<P862r> ^2 9 ^1 13)
    (<P863r> ^2 9 ^1 12)
    (<P864r> ^2 9 ^1 10)  
    (<P865r> ^2 10 ^1 13)
    (<P867r> ^2 11 ^1 14)
    (<P868r> ^2 11 ^1 13)
    (<P869r> ^2 12 ^1 13)
    (<P873r> ^2 15 ^1 16)
    
    (<P862br> ^1 13 ^2 17)
    (<P863br> ^1 12 ^2 15)
    (<P864br> ^1 10 ^2 11)  
    (<P865br> ^1 13 ^2 16)
    (<P867br> ^1 14 ^2 17)
    (<P868br> ^1 13 ^2 15)
    (<P869br> ^1 13 ^2 14)
    (<P873br> ^1 16 ^2 17)
    
    (<P862brz> ^1 12 ^2 16)
    (<P863brz> ^1 16 ^2 12)
    (<P864brz> ^1 14 ^2 16)  
    (<P865brz> ^1 16 ^2 14)
    (<P867brz> ^1 12 ^2 10)
    (<P868brz> ^1 10 ^2 12)
    (<P869brz> ^1 10 ^2 14)
    (<P873brz> ^1 14 ^2 10)
   (<p2> ^name diagonal-with
          ^pair <P862brx> ^pair <P863brx>
          ^pair <P864brx> ^pair <P865brx> ^pair <P867brx> ^pair <P868brx> ^pair <P869brx>
          ^pair <P873brx>
          ^pair <P862brzx> ^pair <P863brzx>
          ^pair <P864brzx> ^pair <P865brzx> ^pair <P867brzx> ^pair <P868brzx> ^pair <P869brzx>
          ^pair <P873brzx>)
    (<P862brx> ^1 13 ^2 17)
    (<P863brx> ^1 17 ^2 13)
    (<P864brx> ^1 13 ^2 11)  
    (<P865brx> ^1 11 ^2 13)
    (<P867brx> ^1 9 ^2 13)
    (<P868brx> ^1 13 ^2 9)
    (<P869brx> ^1 13 ^2 15)
    (<P873brx> ^1 15 ^2 13)
    
    (<P862brzx> ^1 12 ^2 16)
    (<P863brzx> ^1 16 ^2 12)
    (<P864brzx> ^1 14 ^2 16)  
    (<P865brzx> ^1 16 ^2 14)
    (<P867brzx> ^1 12 ^2 10)
    (<P868brzx> ^1 10 ^2 12)
    (<P869brzx> ^1 10 ^2 14)
    (<P873brzx> ^1 14 ^2 10)
   (<p3> ^name below ^pair <p21>
         ^pair <p22> ^pair <p23>
         ^pair <p24> ^pair <p25>
         ^pair <p26> ^pair <p27>
         ^pair <p28>)
   (<p21> ^2 1 ^1 15)
   (<p22> ^2 2 ^1 16)
   (<p23> ^2 3 ^1 17)
   (<p24> ^2 4 ^1 12)
   (<p25> ^2 5 ^1 13)
   (<p26> ^2 6 ^1 14)
   (<p27> ^2 7 ^1 9)
   (<p28> ^2 8 ^1 10)
   (<p4> ^name on ^pair <p31>
         ^pair <p32> ^pair <p33>
         ^pair <p34> ^pair <p35>
         ^pair <p36> ^pair <p37>
         ^pair <p38>)
   (<p31> ^1 1 ^2 14)
   (<p32> ^1 2 ^2 15)
   (<p33> ^1 3 ^2 16)
   (<p34> ^1 4 ^2 17)
   (<p35> ^1 5 ^2 12)
   (<p36> ^1 6 ^2 13)
   (<p37> ^1 7 ^2 9)
   (<p38> ^1 8 ^2 10)
#   (<p31> ^1 1 ^2 15)
#   (<p32> ^1 2 ^2 16)
#   (<p33> ^1 3 ^2 17)
#   (<p34> ^1 4 ^2 12)
#   (<p35> ^1 5 ^2 13)
#   (<p36> ^1 6 ^2 14)
#   (<p37> ^1 7 ^2 9)
#   (<p38> ^1 8 ^2 10)
   
 (<o1> ^id 1 ^word red ^category block ^primitive object)
   (<o2> ^id 2 ^word yellow ^category block ^primitive object)
   (<o3> ^id 3 ^word white ^category block ^primitive object)
   (<o4> ^id 4 ^word purple ^category block ^primitive object)
   (<o1b> ^id 5 ^word blue ^category block ^primitive object)
   (<o2b> ^id 6 ^word green ^category block ^primitive object)
   (<o3b> ^id 7 ^word orange ^category block ^primitive object)
   (<o4b> ^id 8 ^word brown ^category block ^primitive object)
   
   (<o5> ^id 9 ^category location ^word orange ^primitive object)
   (<o6> ^id 10 ^category location ^word brown ^primitive object)
   (<o7> ^id 11 ^category location ^primitive object)
   (<o8> ^id 12 ^category location ^word purple ^primitive object)
   (<o9> ^id 13 ^category location ^word blue ^primitive object)
   (<o10> ^id 14 ^category location ^word green ^primitive object)
   (<o11> ^id 15 ^category location ^word red ^primitive object)
   (<o12> ^id 16 ^category location ^word yellow  ^primitive object)
   (<o13> ^id 17 ^category location ^word white ^primitive object)


   
  (<T5> ^nlp-set <nlps>)
  
# eight-puzzle action
#   (<nlps> ^nlp <cs3> 
#           ^nlp <cs> ^aname stack-block)
#   
#   (<cs> ^name below ^args <ag> ^parameter <p3z> ^type state-pair ^attribute prepositions)
#   (<p3z> ^1 <p1a> ^2 <p2a>)
#   (<p1a> ^param-id 3 ^type single)
#   (<p2a> ^param-id 1 ^type single)
#   (<ag> ^1 <cs2> ^2 <c1>)
#   (<c1> ^name block ^rtype single ^type attribute ^attribute type)
#   
#   (<cs1> ^name below ^negative true ^args <ag1> ^type state-pair ^attribute prepositions)
#   (<ag1> ^1 <c2> ^2 <c1>)
#   (<c2> ^name location ^rtype single ^type attribute ^attribute type)
#   
#   (<cs2> ^name near ^args <ag5> ^parameter <p3ac> ^type state-pair ^attribute prepositions)
#   (<p3ac> ^1 <p1c> ^2 <p2c>)
#   (<p1c> ^param-id 3 ^type single)
#   (<p2c> ^param-id 2 ^type single)
#   (<ag5> ^1 <c2> ^2 <cs1>)
#   
#   (<cs3> ^name diagonal-with ^negative true ^args <ag6> ^parameter <p6ac> ^type state-pair ^attribute prepositions)
#   (<p6ac> ^1 <p1d> ^2 <p2d>)
#   (<p1d> ^param-id 2 ^type single)
#   (<p2d> ^param-id 3 ^type single)
#   (<ag6> ^1 <cs1> ^2 <c2>)
  
### eight-puzzle heirarchical
    (<nlps> ^nlp <cs1>
           ^nlp <cs> ^aname stack-block)
   
   (<cs> ^name below ^args <ag> ^parameter <p3z> ^type state-pair ^attribute prepositions)
   (<p3z> ^1 <p1a> ^2 <p2a>)
   (<p1a> ^param-id 3 ^type single)
   (<p2a> ^param-id 1 ^type single)
   (<ag> ^1 <cs2> ^2 <c1>)
   
   (<c1> ^name block ^rtype single ^type attribute ^attribute type)
   
   (<c2> ^name clear ^rtype single ^negative false ^parameter.num 0 ^args <ag100> ^type concept ^attribute predicate)
   
   (<cs1> ^name location ^rtype single ^parameter <p3x> ^args <ag1> ^type attribute ^attribute type)
   (<p3x> ^1 <p1x>)
   (<p1x> ^param-id 2 ^type single)
   (<ag1> ^1 <c2>)
   
   (<cs2> ^name adjacent ^negative false ^args <ag5> ^parameter <p3ac> ^type concept ^attribute predicate)
   (<p3ac> ^1 <p1c> ^2 <p2c>)
   (<p1c> ^param-id 3 ^type single)
   (<p2c> ^param-id 2 ^type single)
   #(<ag5> ^1 <c2> ^2 <c2>)
 
   
     
#   
#   (<cs2> ^name near ^args <ag5> ^parameter <p3ac> ^type state-pair ^attribute prepositions)
#   (<p3ac> ^1 <p1c> ^2 <p2c>)
#   (<p1c> ^param-id 3 ^type single)
#   (<p2c> ^param-id 2 ^type single)
#   (<ag5> ^1 <c2> ^2 <cs1>)
#   
#   (<cs3> ^name diagonal-with ^negative true ^args <ag6> ^parameter <p6ac> ^type state-pair ^attribute prepositions)
#   (<p6ac> ^1 <p1d> ^2 <p2d>)
#   (<p1d> ^param-id 2 ^type single)
#   (<p2d> ^param-id 3 ^type single)
#   (<ag6> ^1 <cs1> ^2 <c2>)
   
##  eight-puzzle goal hierachical
#   (<nlps> ^nlp <c99> ^aname 8-puzzle-goal)
#   (<c99> ^name all-8-matched ^return-type number ^negative false ^args <ag5> ^parameter <p3ac> ^type concept ^attribute predicate)
#   (<p3ac> ^1 <p1c>)
#   (<p1c> ^param-id 1 ^type single)

## eight-puzzle hamming distance
#   (<nlps> ^nlp <c99> ^aname 8-puzzle-hamminh)
#   (<c99> ^name hamming-distance ^return-type number ^negative false ^args <ag5> ^parameter <p3ac> ^type concept ^attribute predicate)
#   (<p3ac> ^1 <p1c>)
#   (<p1c> ^param-id 1 ^type single)
   

##  eight-puzzle goal
#   (<nlps> ^nlp <c99> 
#            ^nlp <c8> ^nlp <c10> ^nlp <c9>
#            ^nlp <c99r> 
#            ^nlp <c8r> ^nlp <c10r> ^nlp <c9r> ^aname stack-block)
#
#   (<c99> ^name on ^args <ag33> ^parameter <pp1>)
#   (<pp1> ^1 <p11z>)
#   (<p11z> ^param-id 1 ^type single)
#   (<ag33> ^1 <c1> ^2 <c1>)
#   
#   (<c8> ^name on ^args <ag5> ^parameter <p37z>)
#   (<p37z> ^1 <p12>)
#   (<p12> ^param-id 2 ^type single)
#   (<ag5> ^1 <c3b> ^2 <c3b>)
#   
#   (<c9> ^name on ^args <ag33b> ^parameter <pp1b>)
#   (<pp1b> ^1 <p11zb>)
#   (<p11zb> ^param-id 3 ^type single)
#   (<ag33b> ^1 <c1b> ^2 <c1b>)
#   
#   (<c10> ^name on ^args <ag5b> ^parameter <p37b>)
#   (<p37b> ^1 <p12b>)
#   (<p12b> ^param-id 4 ^type single)
#   (<ag5b> ^1 <c5b> ^2 <c5b>)
#   
#   (<c1> ^name blue ^args <ag2>)
#   (<ag2> ^1 <c4>)
#   (<c4> ^name object ^rtype single)
#   
#   (<c1b> ^name red ^args <ag2b>)
#   (<ag2b> ^1 <c4>)
#
#   (<c3b> ^name green ^args <ag3b>)
#   (<ag3b> ^1 <c4>)
#
#   (<c5b> ^name yellow ^args <ag8b>)
#   (<ag8b> ^1 <c4>)
#
#   (<c99r> ^name on ^args <ag33r> ^parameter <pp1r>)
#   (<pp1r> ^1 <p11zr>)
#   (<p11zr> ^param-id 5 ^type single)
#   (<ag33r> ^1 <c1r> ^2 <c1r>)
#   
#   (<c8r> ^name on ^args <ag5r> ^parameter <p37r>)
#   (<p37r> ^1 <p12r>)
#   (<p12r> ^param-id 6 ^type single)
#   (<ag5r> ^1 <c3br> ^2 <c3br>)
#   
#   (<c9r> ^name on ^args <ag33br> ^parameter <pp1br>)
#   (<pp1br> ^1 <p11zbr>)
#   (<p11zbr> ^param-id 7 ^type single)
#   (<ag33br> ^1 <c1br> ^2 <c1br>)
#   
#   (<c10r> ^name on ^args <ag5br> ^parameter <p37br>)
#   (<p37br> ^1 <p12br>)
#   (<p12br> ^param-id 8 ^type single)
#   (<ag5br> ^1 <c5br> ^2 <c5br>)
#   
#   (<c1r> ^name purple ^args <ag2r>)
#   (<ag2r> ^1 <c4>)
#   
#   (<c1br> ^name white ^args <ag2br>)
#   (<ag2br> ^1 <c4>)
#   
#   (<c3br> ^name orange ^args <ag3br>)
#   (<ag3br> ^1 <c4>)
#
#   (<c5br> ^name brown ^args <ag8br>)
#   (<ag8br> ^1 <c4>) 
}

