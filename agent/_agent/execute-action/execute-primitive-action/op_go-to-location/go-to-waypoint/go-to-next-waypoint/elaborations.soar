sp {go-to-next-waypoint*elaborate*waypoint
   (state <s> ^name go-to-next-waypoint
              ^superstate.operator.next-waypoint <wp>)
-->
   (<s> ^waypoint <wp>)
}

sp {go-to-next-waypoint*elaborate*current-action
   (state <s> ^name go-to-next-waypoint
              ^superstate.superstate.current-action <a>)
-->
   (<s> ^current-action <a>)
}

sp {go-to-next-waypoint*elaborate*edge
   (state <s> ^name go-to-next-waypoint
              ^superstate.current-waypoint.edge <edge>
              ^waypoint <wp>)
   (<edge> ^end <wp>)
-->
   (<s> ^edge <edge>)
}

sp {go-to-next-waypoint*elaobrate*do-face
  (state <s> ^name go-to-next-waypoint)
-->
  (<s> ^do-face false)
}

