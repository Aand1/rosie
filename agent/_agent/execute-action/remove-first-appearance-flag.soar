# remove the first-appearance flag when we first see the action

sp {execute-action*propose*remove-first-appearance-flag
   (state <s> ^name execute-action
              ^top-state.action-stack.top <top>)
   (<top> ^first-appearance <flag>)
-->
   (<s> ^operator <o> + >)
   (<o> ^name remove-first-appearance-flag)
}

sp {execute-action*apply*remove-first-appearance-flag
   (state <s> ^name execute-action
              ^operator.name remove-first-appearance-flag
              ^top-state.action-stack.top <top>)
   (<top> ^first-appearance <flag>)
-->
   (<top> ^first-appearance <flag> -)
}