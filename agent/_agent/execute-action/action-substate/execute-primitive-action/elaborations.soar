# elaborate execution-operator from superstate.operator
sp {execute-primitive-action*elaborate*state*execution-operator
   (state <s> ^problem-space.name execute-primitive-action
              ^superstate.operator <ss-op>)
-->
   (<s> ^execution-operator <ss-op>)
}

# copy current-action from superstate
sp {execute-primitive-action*elaborate*current-action
   (state <s> ^problem-space.name execute-primitive-action
              ^superstate.current-action <action>)
-->
   (<s> ^current-action <action>)
}

# elaborate parent-action from current-action.prev
sp {execute-primitive-action*elaborate*parent-action
   (state <s> ^problem-space.name execute-primitive-action
              ^current-action.prev { <prev> <> none })
-->
   (<s> ^parent-action <prev>)
}

# elaborate child-action from current-action.next
sp {execute-primitive-action*elaborate*child-action
   (state <s> ^problem-space.name execute-primitive-action
              ^current-action.next { <next> <> none })
-->
   (<s> ^child-action <next>)
}

# allow-wait true
sp {execute-primitive-action*elaborate*allow-wait
   (state <s> ^problem-space.name execute-primitive-action)
-->
   (<s> ^allow-wait true)
}

# action-handle - copied from execution-operator.action-handle
sp {execute-primitive-action*elaborate*action-handle
   (state <s> ^problem-space.name execute-primitive-action
              ^execution-operator.action-handle <handle>)
-->
   (<s> ^action-handle <handle>)
}

# until-clause - copied from execution-operator.until-clause
sp {execute-primitive-action*elaborate*until-clause
   (state <s> ^problem-space.name execute-primitive-action
              ^execution-operator.until-clause <until>)
-->
   (<s> ^until-clause <until>)
}
