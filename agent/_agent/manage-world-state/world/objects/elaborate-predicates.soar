# Elaborate object category, either location or block

sp {top-state*world*object*predicates*elaborate*category*from*agent-info
   (state <s> ^top-state <s>
              ^world.objects.object.predicates <preds>
              ^agent-info.category-info.<name> <cat>)
   (<preds> ^name <name>)
-->
   (<preds> ^category <cat>)
}

sp {top-state*world*object*predicates*elaborate*category*default*block
   (state <s> ^top-state <s>
              ^world.objects.object.predicates <preds>)
   (<preds> -^category <> block1)
-->
   (<preds> ^category block1
            ^movable true)
}

# Elaborate pointed predicate if the object is being pointed to
   
sp {top-state*world*object*predicates*elaborate*indicated*pointed
   (state <s> ^top-state <s>
              ^io.input-link.pointed-object <id>
              ^world.objects.object <obj>)
   (<obj> ^id <id>
          ^predicates <preds>)
-->
   (<preds> ^indicated pointed)
}

# Elaborate default arm-status of not-grabbed

sp {top-state*world*object*predicates*elaborate*arm-status*default*not-grabbed
   (state <s> ^superstate nil
              ^world.objects.object.predicates <preds>)
   (<preds> -^arm-status << moving grabbed >> )
-->
   (<preds> ^arm-status not-grabbed)
}