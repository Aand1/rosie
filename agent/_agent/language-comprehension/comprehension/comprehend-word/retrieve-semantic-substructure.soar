sp {comprehend-word*propose*retrieve-semantic-substructure
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.assigners { <> nil <a1> })
  -(<a1> ^structure-type)
-->
   (<s> ^operator <op> + =, >)
   (<op> ^name retrieve-semantic-substructure
         ^feature assigner
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*super-type
   #:interrupt
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.super-type { <> nil <a1> })
  -(<a1> ^structure-type)
-->
   (<s> ^operator <op> + =, >)
   (<op> ^name retrieve-semantic-substructure
         ^feature super-type
         ^lti <a1>
         ^retrievals <ret>)
}
sp {comprehend-word*propose*retrieve-semantic-substructure*constraint
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.constraint { <> nil <a1> })
  -(<a1> ^name)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature constraint
         ^lti <a1>
         ^retrievals <ret>)
} 
sp {comprehend-word*propose*retrieve-semantic-substructure*assigner-constraints
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.assigners.constraint { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature constraint
         ^lti <a1>
         ^retrievals <ret>)
}
sp {comprehend-word*propose*retrieve-semantic-substructure*assigner-default
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.assigners.default { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature default
         ^lti <a1>
         ^retrievals <ret>)
}
sp {comprehend-word*propose*retrieve-semantic-substructure*constraint-proposition
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.assigners.constraint.proposition { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature constraint-proposition
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*grounding
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.referent { <> nil <> literal <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature referent
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*grounding*id
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.referent.id { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature referent-id
         ^lti <a1>
         ^retrievals <ret>)
}
sp {comprehend-word*propose*retrieve-semantic-substructure*relation
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.relation { <> nil <> literal <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature relation
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*id
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.id { <> nil <> literal <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature id
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*id*property
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.id.property { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature property
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*semantic-value
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.semantic-value { <> nil <> literal <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature semantic-value
         ^lti <a1>
         ^retrievals <ret>)
}

sp {comprehend-word*propose*retrieve-semantic-substructure*semantic-value*id
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.semantic-value.id { <> nil <> literal <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature id
         ^lti <a1>
         ^retrievals <ret>)
}


sp {comprehend-word*propose*retrieve-semantic-substructure*empty
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand <a1>)
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature none
         ^lti <a1>
         ^retrievals <ret>)
}
#
#sp {comprehend-word*propose*retrieve-semantic-substructure*referent*id
#   (state <s> ^name comprehend-word
#              ^retrievals <ret>
#              ^expand.referent.id { <> nil <> literal <a1> })
#  -(<a1> ^<pos>)
#-->
#   (<s> ^operator <op> + =)
#   (<op> ^name retrieve-semantic-substructure
#         ^feature id
#         ^lti <a1>
#         ^retrievals <ret>)
#}

sp {comprehend-word*propose*retrieve-semantic-substructure*proposition*substructure
   (state <s> ^name  << comprehend-word comprehend-construction >>
              ^retrievals <ret>
              ^expand.assigners.constraint.proposition.<att> { <> nil <a1> })
  -(<a1> ^<pos>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name retrieve-semantic-substructure
         ^feature <att>
         ^lti <a1>
         ^retrievals <ret>)
}

#########

sp {comprehend-word*apply*retrieve-semantic-substructure
   (state <s> ^operator <o>
              ^retrievals <ret>
              ^smem.command <cmd>)
   (<o> ^name retrieve-semantic-substructure
        ^lti <a1>
        ^feature <att>
        ^retrievals <ret>)
-->
   (<s> ^retrievals <ret> - (+ 1 <ret>))
   (write (crlf) |Retrieve | <a1> | from attribute | <att>)
   (<cmd> ^retrieve <a1>)
}

sp {comprehend-word*apply*retrieve-semantic-substructure*clean-up
   (state <s> ^operator <o>
              ^smem.command <cmd>)
   (<o> ^name retrieve-semantic-substructure
        ^lti <a1>) 
   (<cmd> ^retrieve {<> <a1> <a2> })
-->
   (<cmd> ^retrieve <a2> -)
}


sp {comprehend-word*apply*retrieve-semantic-substructure*fail
   (state <s> ^operator <o>
              ^smem <smem>)
   (<smem> ^result.failure <t>)
   (<o> ^name retrieve-semantic-substructure
        ^lti <a1>)
-->
   (write (crlf) |No assigner item found in semantic memory: | <a1>)
  # (interrupt)
}