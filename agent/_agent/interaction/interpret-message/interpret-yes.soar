###################################################################
#
# interpret-yes
#   Instructor responds to a question with a confirmation
#   E.g. 'yes', 'yeah', 'ok'
#
###################################################################

#######
# OPERATOR PROPOSAL
#######
sp {interpret-message*propose*interpret-yes
   (state <s> ^name interpret-message
              ^instructor-message <msg>)
   (<msg> ^message-type yes
         -^interpreted true)
-->
   (<s> ^operator <o> +)
   (<o> ^name interpret-yes
        ^message <msg>)
}

#####
# OPERATOR APPLICATION
#####

# Mark the message as interpreted (retracts operator)
sp {interpret-message*apply*interpret-yes*mark*interpreted
   (state <s> ^name interpret-message
              ^operator <o>)
   (<o> ^name interpret-yes
        ^message <msg>)
-->
   (<s> ^mark-interpreted <msg>)
}
