sp {interaction*apply*modify-segment
   (state <s> ^name interaction
   	      ^operator <o>
	      ^topstate <ts>)
   (<ts> ^interaction.stack.segment <seg>)
   (<o> ^name modify-segment
   	^modify-segment-info <minfo>)
   (<minfo> ^segment <seg>
   	    ^modification <m>)
   (<m> ^type satisfaction
   	^delete <del>
	^add <add>)
   (<del> ^<arg> <val>)
   (<add> ^<narg> <nval>)
   (<seg> ^purpose.satisfaction <sat>)
   (<sat> ^<arg> <val>)
   (<ts> ^modify-segment-info <minfo>)
-->
   (<sat> ^<arg> <val> -
   	  ^<narg> <nval>)
   (<ts> ^modify-segment-info <minfo>)
}
   
# Remove the new-segment-info from the status link (retracts operator)
sp {modify-segment*apply*complete-modify-segment*remove*status
   (state <s> ^name interaction
              ^operator.name modify-segment
              ^topstate.interaction.status <status>)
   (<status> ^<any> <stat>)
-->
   (<status> ^<any> <stat> -)
}

sp {modify-segment*apply*complete-modify-segment*remove*message
   (state <s> ^name interaction
              ^operator.name modify-segment
              ^topstate.nl.input-link <nil>)
   (<nil> ^message <msg>)
-->
   (<nil> ^message <msg> -)
}

sp {modify-segment*apply*complete-modify-segment*message*mark-processed
   (state <s> ^name interaction
              ^operator.name modify-segment
              ^io.input-link.message <msg>)
-->
   (<msg> ^processed true)
}