####################################################
#
# new-message -> interpret-message
#
####################################################
sp {interaction*propose*interpret-message
   (state <s> ^name interaction
              ^status <status>
             -^interpreted <msg>)
   (<status> ^type new-message
             ^message <msg>)
-->
   (<s> ^operator <o> + =)
   (<o> ^name interpret-message
        ^message <msg>)
}


#
#sp {interaction*propose*interpret-message
#   (state <s> ^name interaction
#   	      ^message <msg>
#	      -^new-segment-info
#	      -^terminate-segment)
#-->
#   (<s> ^operator <o> +)
#   (<o> ^name interpret-message
#        ^message <msg>)
#}


####################################################
#
# other status -> interpret-status
#
####################################################

sp {interaction*propose*interpret-status
   (state <s> ^name interaction
              ^status <status>
             -^interpreted <status>)
   (<status> -^type new-message)
-->
   (<s> ^operator <o> +)
   (<o> ^name interpret-status
        ^status <status>)
}

####################################################
#
# outgoing-message -> send-message
#
####################################################

sp {interaction*propose*send-message
   (state <s> ^name interaction
              ^outgoing-message <msg>)
-->
   (<s> ^operator <o> + =)
   (<o> ^name send-message
        ^message <msg>)
}

####################################################
#
# new-segment-info -> push-segment
#
####################################################

sp {interaction*propose*push-segment
   (state <s> ^name interaction
              ^new-segment-info <info>)
-->
   (<s> ^operator <o> +)
   (<o> ^name push-segment
        ^new-segment-info <info>)
}

####################################################
#
# terminate-segment -> pop-segment
#
####################################################

sp {interaction*propose*pop-segment
   (state <s> ^name interaction
   	      ^terminate-segment <seg>
          ^topstate.interaction.stack.segment <seg>)
-->
   (<s> ^operator <o> +)
   (<o> ^name pop-segment
        ^segment <seg>)
}

