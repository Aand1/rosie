sp {learn-desired-elaboration-rule*elaborate*action-operator*from*superstate
   (state <s> ^name learn-desired-elaboration-rule
              ^superstate.operator.action-operator <action>)
-->
   (<s> ^action-operator <action>)
}

sp {learn-desired-elaboration-rule*elaborate*smem-info
   (state <s> ^name learn-desired-elaboration-rule
              ^superstate.operator.action-id <action-id>)
   (<action-id> ^goal <goal>
                ^procedural <proc>)
-->
   (<s> ^goal-id <goal>)
   (<s> ^procedural-id <proc>)
}

sp {learn-desired-elaboration-rule*elaborate*1*predicate
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>)
   -{(<goal> ^predicate { <pred2> <> <pred1> })}
-->
   (<s> ^predicate.smem-rep <pred1>)
}

sp {learn-desired-elaboration-rule*elaborate*2*predicates
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>
           ^predicate {<pred2> > <pred1>})
   -{(<goal> ^predicate { <pred3> <> <pred1> <> <pred2> })}
-->
   (<s> ^predicate.smem-rep <pred1>
        ^predicate.smem-rep <pred2>)
}

sp {learn-desired-elaboration-rule*elaborate*3*predicates
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>
           ^predicate {<pred2> > <pred1>}
           ^predicate {<pred3> > <pred2>})
   -{(<goal> ^predicate { <pred4> <> <pred1> <> <pred2> <> <pred3> })}
-->
   (<s> ^predicate.smem-rep <pred1>
        ^predicate.smem-rep <pred2>
        ^predicate.smem-rep <pred3>)
}

sp {learn-desired-elaboration-rule*elaborate*4*predicates
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>
           ^predicate {<pred2> > <pred1>}
           ^predicate {<pred3> > <pred2>}
           ^predicate {<pred4> > <pred3>})
   -{(<goal> ^predicate { <pred5> <> <pred1> <> <pred2> <> <pred3> <> <pred4> })}
-->
   (<s> ^predicate.smem-rep <pred1>
        ^predicate.smem-rep <pred2>
        ^predicate.smem-rep <pred3>
        ^predicate.smem-rep <pred4>)
}

sp {learn-desired-elaboration-rule*elaborate*5*predicates
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>
           ^predicate {<pred2> > <pred1>}
           ^predicate {<pred3> > <pred2>}
           ^predicate {<pred4> > <pred3>}
           ^predicate {<pred5> > <pred4>})
   -{(<goal> ^predicate { <pred6> <> <pred1> <> <pred2> <> <pred3> <> <pred4> <> <pred5> })}
-->
   (<s> ^predicate.smem-rep <pred1>
        ^predicate.smem-rep <pred2>
        ^predicate.smem-rep <pred3>
        ^predicate.smem-rep <pred4>
        ^predicate.smem-rep <pred5>)
}

sp {learn-desired-elaboration-rule*elaborate*6*predicates
   (state <s> ^name learn-desired-elaboration-rule
              ^goal-id <goal>)
   (<goal> ^predicate <pred1>
           ^predicate {<pred2> > <pred1>}
           ^predicate {<pred3> > <pred2>}
           ^predicate {<pred4> > <pred3>}
           ^predicate {<pred5> > <pred4>}
           ^predicate {<pred6> > <pred5>})
   -{(<goal> ^predicate { <pred7> <> <pred1> <> <pred2> <> <pred3> <> <pred4> <> <pred5> <> <pred6> })}
-->
   (<s> ^predicate.smem-rep <pred1>
        ^predicate.smem-rep <pred2>
        ^predicate.smem-rep <pred3>
        ^predicate.smem-rep <pred4>
        ^predicate.smem-rep <pred5>
        ^predicate.smem-rep <pred6>)
}

sp {learn-desired-elaboration-rule*elaborate*desired
   (state <s> ^name learn-desired-elaboration-rule)
-->
   (<s> ^desired <desired>)
}

sp {learn-desired-elaborate-rule*elaborate*all-predicates-grounded*true
   (state <s> ^name learn-desired-elaboration-rule
              ^predicate <p>)
   -{(<s> ^predicate <pred>)
     (<pred> -^grounded-rep)}
-->
   (<s> ^all-predicates-grounded true)
}
