sp {propose*series-of-points
   (state <s> ^name pointer)
-->
   (<s> ^operator <o> +)
   (<o> ^name series-of-points)
}

sp {propose*begin-points
   (state <s> ^name series-of-points
             -^topstate.current <any>)
-->
   (<s> ^operator <o> +)
   (<o> ^name begin-points)
}

sp {apply*begin-points
   (state <s> ^operator.name begin-points
              ^topstate <ts>)
   (<ts> ^point-list.begin <first>)
-->
   (<ts> ^current <first>)
}

sp {propose*do-current-point
   (state <s> ^name series-of-points
              ^topstate.current.pose <pos>
              ^io.output-link <out>)
   -{(<out> ^<command> <com>)
   	 (<com> ^status complete)}
-->
   (<s> ^operator <o> + <)
   (<o> ^name do-current-point
        ^actions.point <point>)
   (<point> ^pose <pos>)
}

sp {propose*update-current
   (state <s> ^name series-of-points
              ^topstate.current <cur>
              ^io.output-link <out>)
   (<out> ^<command> <com>)
   (<com> ^status complete
   		  ^pose <pos>)	
   (<cur> ^pose <pos>)
   (<cur> ^next <> nil)
   -->
   (<s> ^operator <o> +)
   (<o> ^name update-current)
}

sp {apply*update-current
   (state <s> ^operator.name update-current
              ^topstate <ts>
              ^io.output-link <out>)
   (<out> ^<command> <com>)
   (<ts> ^current <cur>)
   (<cur> ^next <next>)
-->
   (<ts> ^current <cur> -)
   (<ts> ^current <next>)
   (<out> ^<command> <com> -)
}

sp {monitor*finished-commands
   (state <s> ^name series-of-points
              ^io.output-link <out>)
   (<out> ^<command> <com>)
   (<com> ^status complete
    	   ^pose <pos>)
   (<pos> ^x <x>
          ^y <y>)
-->
   (write (crlf) <x> |, | <y> | finished.|)
}